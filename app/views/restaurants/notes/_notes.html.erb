<%= turbo_frame_tag dom_id(restaurant, :notes) do %>
  <% if restaurant.notes.present? %>
    <%= link_to edit_restaurant_notes_path(restaurant_id: restaurant.id, locale: current_locale),
          class: "block text-surface-600 whitespace-pre-wrap hover:text-surface-700 transition-colors",
          data: { 
            turbo_frame: hotwire_native_app? ? "_top" : nil,
            turbo_visit_control: hotwire_native_app? ? "reload" : nil,
            controller: hotwire_native_app? ? "loading" : nil,
            action: hotwire_native_app? ? "loading#start" : nil
          } do %>
      <%= restaurant.notes %>
    <% end %>
  <% else %>
    <%= link_to edit_restaurant_notes_path(restaurant_id: restaurant.id, locale: current_locale),
          class: "w-full py-2 px-3 text-surface-500 border border-dashed border-surface-300 rounded-md hover:text-surface-700 hover:border-surface-400 transition-colors text-left inline-block",
          data: { 
            turbo_frame: hotwire_native_app? ? "_top" : nil,
            turbo_visit_control: hotwire_native_app? ? "reload" : nil,
            controller: hotwire_native_app? ? "loading" : nil,
            action: hotwire_native_app? ? "loading#start" : nil
          } do %>
      <%= heroicon "plus", options: { class: "inline w-4 h-4 mr-2" } %>
      Add a note
    <% end %>
  <% end %>
<% end %>