<div id="<%= dom_id(restaurant, :price_level) %>_modal_container">
  <%= render(ModalComponent.new(id: "#{dom_id(restaurant, :price_level)}_modal")) do |modal| %>
    <% modal.with_header do %>
      <h3 class="text-lg font-medium text-surface-900">Set price level</h3>
    <% end %>
    
    <% modal.with_body do %>
      <div class="flex items-center justify-center gap-4 py-4"
           data-controller="price-level"
           data-price-level-url-value="<%= restaurant_path(id: restaurant.id, locale: current_locale) %>"
           data-price-level-level-value="<%= restaurant.price_level %>">
        <% (1..4).each do |i| %>
          <button type="button"
                  class="w-12 h-12 focus:outline-none transition-transform hover:scale-110"
                  data-price-level-target="dollar"
                  data-value="<%= i %>"
                  data-action="click->price-level#setLevel">
            <%= heroicon "currency-dollar", 
                options: { class: "w-8 h-8 #{restaurant.price_level.present? && i <= restaurant.price_level ? 'text-green-600' : 'text-gray-400'}" } %>
          </button>
        <% end %>
      </div>
    <% end %>
  <% end %>
</div>